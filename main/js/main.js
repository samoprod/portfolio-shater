$(document).ready(function(){function s(a){if(a.addClass("err"),a.parent().addClass("err"),a.parent().find(".form__error").remove(),a.hasClass("email")){var e="";null!=(e=(""==a.val()||(a.val(),a.attr("data-value")),a.data("error")))&&a.parent().append('<div class="form__error">'+e+"</div>")}else null!=a.data("error")&&0==a.parent().find(".form__error").length&&a.parent().append('<div class="form__error">'+a.data("error")+"</div>");0<a.parents(".select-block").length&&(a.parents(".select-block").parent().addClass("err"),a.parents(".select-block").find(".select").addClass("err"))}function r(a){a.removeClass("err"),a.parent().removeClass("err"),a.parent().find(".form__error").remove()}function t(a){""==a.val()&&(a.inputmask("remove"),a.val(a.attr("data-value")),a.removeClass("focus"),a.parent().removeClass("focus"))}function n(a,e){$(".popup").removeClass("active").hide(),$(".header-menu").hasClass("active")||$("body").data("scroll",$(window).scrollTop()),i.any()?setTimeout(function(){$("body").addClass("lock")},300):($("body").css({paddingRight:$(window).outerWidth()-$(".wrapper").outerWidth()}).addClass("lock"),$(".pdb").css({paddingRight:$(window).outerWidth()-$(".wrapper").outerWidth()})),history.pushState("","","#"+a),""!=e&&null!=e&&$(".popup-"+a+" .popup-video__value").html('<iframe src="https://www.youtube.com/embed/'+e+'?autoplay=1"  allow="autoplay; encrypted-media" allowfullscreen></iframe>'),$(".popup-"+a).fadeIn(300).delay(300).addClass("active"),0<$(".popup-"+a).find(".slick-slider").length&&$(".popup-"+a).find(".slick-slider").slick("setPosition")}function e(){$(".popup").removeClass("active").fadeOut(300),$(".header-menu").hasClass("active")||(i.any()?($("body").removeClass("lock"),$("body,html").scrollTop(parseInt($("body").data("scroll")))):(setTimeout(function(){$("body").css({paddingRight:0}),$(".pdb").css({paddingRight:0})},200),setTimeout(function(){$("body").removeClass("lock"),$("body,html").scrollTop(parseInt($("body").data("scroll")))},200))),$(".popup-video__value").html(""),history.pushState("","",window.location.href.split("#")[0])}$(window).outerWidth(),$(window).outerHeight();var a=window.navigator.userAgent,i=(a.indexOf("MSIE "),{Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return i.Android()||i.BlackBerry()||i.iOS()||i.Opera()||i.Windows()}});if((-1<(a=navigator.userAgent).indexOf("MSIE ")||-1<a.indexOf("Trident/"))&&$("body").addClass("ie"),i.any()&&$("body").addClass("touch"),$("input,textarea").focus(function(){$(this).val()==$(this).attr("data-value")&&($(this).addClass("focus"),$(this).parent().addClass("focus"),"pass"==$(this).attr("data-type")&&$(this).attr("type","password"),$(this).val("")),r($(this))}),$("input[data-value], textarea[data-value]").each(function(){""!=this.value&&this.value!=$(this).attr("data-value")||(this.value=$(this).attr("data-value"),$(this).hasClass("l")&&0==$(this).parent().find(".form__label").length&&$(this).parent().append('<div class="form__label">'+$(this).attr("data-value")+"</div>")),this.value!=$(this).attr("data-value")&&""!=this.value&&($(this).addClass("focus"),$(this).parent().addClass("focus"),$(this).hasClass("l")&&0==$(this).parent().find(".form__label").length&&$(this).parent().append('<div class="form__label">'+$(this).attr("data-value")+"</div>")),$(this).click(function(){this.value==$(this).attr("data-value")&&("pass"==$(this).attr("data-type")&&$(this).attr("type","password"),this.value="")}),$(this).blur(function(){""==this.value&&(this.value=$(this).attr("data-value"),$(this).removeClass("focus"),$(this).parent().removeClass("focus"),"pass"==$(this).attr("data-type")&&$(this).attr("type","text"))})}),$.each($("input.phone"),function(a,e){$(this).attr("type","tel"),$(this).focus(function(){$(this).inputmask("+7(999) 999 9999",{clearIncomplete:!0,clearMaskOnLostFocus:!0,onincomplete:function(){t($(this))}}),$(this).addClass("focus"),$(this).parent().addClass("focus"),$(this).parent().removeClass("err"),$(this).removeClass("err")})}),$("input.phone").focusout(function(a){t($(this))}),$.each($("input.num"),function(a,e){$(this).focus(function(){$(this).inputmask("9{1,1000}",{clearIncomplete:!0,placeholder:"",clearMaskOnLostFocus:!0,onincomplete:function(){t($(this))}}),$(this).addClass("focus"),$(this).parent().addClass("focus"),$(this).parent().removeClass("err"),$(this).removeClass("err")})}),$("input.num").focusout(function(a){t($(this))}),$.each($(".check"),function(a,e){1==$(this).find("input").prop("checked")&&$(this).addClass("active")}),$("body").off("click",".check",function(a){}),$("body").on("click",".check",function(a){$(this).hasClass("disable")||$(a.target).is("a")||($(this).toggleClass("active"),$(this).hasClass("active")?$(this).find("input").prop("checked",!0):$(this).find("input").prop("checked",!1))}),0<$("#range-price").length&&($("#range-price").slider({range:!0,min:$("#range-price").data("min-price"),max:$("#range-price").data("max-price"),values:[parseInt($("#range-price").data("min-price")),parseInt($("#range-price").data("max-price"))],slide:function(a,e){$("#range-price-min").val(e.values[0]),$("#range-price-max").val(e.values[1])}}),$("#range-price-min").on("keyup",function(){$(this).val()<$("#range-price").data("min-price")&&$(this).val($("#range-price").data("min-price")),$("#range-price").slider("option","min",parseInt($("#range-price-min").val()))}),$("#range-price-max").on("keyup",function(){$(this).val()>$("#range-price").data("max-price")&&$(this).val($("#range-price").data("max-price")),$("#range-price").slider("option","max",parseInt($("#range-price-max").val()))})),$("form button[type=submit]").click(function(){var a,t=0,e=$(this).parents("form"),i=e.data("ms");return $.each(e.find(".req"),function(a,e){t+=function(a){var e=0,t=a.parents("form");if("email"==a.attr("name")||a.hasClass("email")){if(a.val()!=a.attr("data-value")){var i=a.val().replace(" ","");a.val(i)}/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(a.val())&&a.val()!=a.attr("data-value")?r(a):(e++,s(a))}else""==a.val()||a.val()==a.attr("data-value")?(e++,s(a)):r(a);return"checkbox"==a.attr("type")&&(1==a.prop("checked")?a.removeClass("err").parent().removeClass("err"):(e++,a.addClass("err").parent().addClass("err"))),a.hasClass("name")&&(/^[А-Яа-яa-zA-Z-]{3}$/.test(a.val())||(e++,s(a))),a.hasClass("pass-2")&&(t.find(".pass-1").val()!=t.find(".pass-2").val()?s(a):r(a)),e}($(this))}),0==t&&(e.find(".form__generalerror").hide().html(""),null!=i&&""!=i?(a=i,$(".popup").hide(),n("message."+a,""),!1):void 0)}),(i={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return i.Android()||i.BlackBerry()||i.iOS()||i.Opera()||i.Windows()}}).any(),location.hash){var o=location.hash.replace("#","");0<$(".popup-"+o).length?n(o):0<$("div."+o).length&&$("body,html").animate({scrollTop:$("div."+o).offset().top},500,function(){})}$(".wrapper").addClass("loaded"),$("body").removeClass("no-js");var l,c,d;if(i.iOS());$(".header-menu__icon").click(function(a){$(this).addClass("active"),$(".header-bottom").addClass("active"),$(this).hasClass("active")&&$("body").data("scroll",$(window).scrollTop()),$("body").addClass("lock")}),$(".header-menu__close").click(function(a){$(".header-menu__icon").removeClass("active"),$(".header-bottom").removeClass("active"),$("body").removeClass("lock"),$("body,html").scrollTop(parseInt($("body").data("scroll")))}),$(".fotorama").fotorama({nav:"thumbs",thumbwidth:50,thumbheight:50,click:!1,swipe:!0,transition:"crossfade",fit:"cover",allowfullscreen:!0}),$(".pl").click(function(a){return n($(this).attr("href").replace("#",""),$(this).data("vid")),!1}),$(".popup-close,.popup__close").click(function(a){return e(),!1}),$(".popup").click(function(a){if(!$(a.target).is(".popup>.popup-table>.cell *")||$(a.target).is(".popup-close")||$(a.target).is(".popup__close"))return e(),!1}),$(document).on("keydown",function(a){27==a.which&&e()}),$(".goto").click(function(){var a=$(this).attr("href").replace("#","");return $("body,html").animate({scrollTop:$("."+a).offset().top+0},500,function(){}),$(".header-menu").hasClass("active")&&($(".header-menu,.header-menu__icon").removeClass("active"),$("body").removeClass("lock")),!1}),$.each($(".ibg"),function(a,e){0<$(this).find("img").length&&$(this).css("background-image",'url("'+$(this).find("img").attr("src")+'")')}),$(document).on("click touchstart",function(a){$(a.target).is(".select *")||$(".select").removeClass("active")}),$(window).scroll(function(){$(window).width();50<$(window).scrollTop()?$("#up").fadeIn(300):$("#up").fadeOut(300)}),$("#up").click(function(a){$("body,html").animate({scrollTop:0},300)}),$("body").on("click",".tab__navitem",function(a){var e=$(this).index();if($(this).hasClass("parent"))e=$(this).parent().index();$(this).hasClass("active")||($(this).closest(".tabs").find(".tab__navitem").removeClass("active"),$(this).addClass("active"),$(this).closest(".tabs").find(".tab__item").removeClass("active").eq(e).addClass("active"),0<$(this).closest(".tabs").find(".slick-slider").length&&$(this).closest(".tabs").find(".slick-slider").slick("setPosition"))}),$.each($(".spoller.active"),function(a,e){$(this).next().show()}),$("body").on("click",".spoller",function(a){return $(this).hasClass("mob")&&!i.any()||($(this).hasClass("closeall")&&!$(this).hasClass("active")&&$.each($(this).closest(".spollers").find(".spoller"),function(a,e){$(this).removeClass("active"),$(this).next().slideUp(300)}),$(this).toggleClass("active").next().slideToggle(300,function(a,e){0<$(this).parent().find(".slick-slider").length&&$(this).parent().find(".slick-slider").slick("setPosition")})),!1}),$(".catalog-filter__title").on("click",function(){$(this).next().stop().slideToggle("fast"),$(this).parent().toggleClass("active")}),$(".catalog-filter__toggle").on("click",function(){$(this).next().stop().slideToggle("fast"),$(this).toggleClass("active")}),$(".catalog-filter__btn").on("click",function(){$(this).parents("form").trigger("reset"),$(this).parents("form").find(".check").removeClass("active"),$("#range-price").slider({range:!0,min:$("#range-price").data("min-price"),max:$("#range-price").data("max-price"),values:[parseInt($("#range-price").data("min-price")),parseInt($("#range-price").data("max-price"))],slide:function(a,e){$("#range-price-min").val(e.values[0]),$("#range-price-max").val(e.values[1])}})}),-1!=navigator.appVersion.indexOf("Mac")||0<$(".scroll-body").length&&$(".scroll-body").niceScroll(".scroll-list",(l=100,d=!(c=50),i.any()&&(l=10,c=1,d=!0),{cursorcolor:"#fff",cursorwidth:"4px",background:"",autohidemode:!0,cursoropacitymax:.4,bouncescroll:d,cursorborderradius:"0px",scrollspeed:l,mousescrollstep:c,directionlockdeadzone:0,cursorborder:"0px solid #fff"})),0<$(".t,.tip").length&&$(".t,.tip").webuiPopover({placement:"top",trigger:"hover",backdrop:!1,animation:"fade",dismissible:!0,padding:!1,onShow:function(a){},onHide:function(a){}}).on("show.webui.popover hide.webui.popover",function(a){$(this).toggleClass("active")})});